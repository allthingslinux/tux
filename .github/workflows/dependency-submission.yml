---
# Submits uv.lock to GitHub's dependency graph so Dependency Review and other
# security features see the full transitive dependency graph (GitHub does not
# natively parse uv.lock). Run workflow_dispatch once after adding to bootstrap.
# https://github.com/rmuir/uv-dependency-submission
name: Dependency Submission
on:
  workflow_dispatch:
  push:
    branches: [main, master]
    paths:
      - '**/uv.lock'
concurrency:
  group: ${{ github.workflow }}-${{ github.ref }}
  cancel-in-progress: true
jobs:
  submit:
    name: Submit uv dependencies
    runs-on: ubuntu-latest
    timeout-minutes: 15
    permissions:
      contents: write
    steps:
      - name: Checkout
        uses: actions/checkout@de0fac2e4500dabe0009e67214ff5f5447ce83dd  # v6
        with:
          persist-credentials: false
      - name: Submit dependency snapshot
        uses: rmuir/uv-dependency-submission@1c48aaac13e566e39fd04269ff1900b86c1105c5  # v1.0.0
