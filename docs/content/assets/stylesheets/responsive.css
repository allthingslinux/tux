/**
 * Responsive Design & Print Styles
 * Modern responsive design with container queries and fluid typography
 */

/* ============================================================
   Print Styles
   ============================================================ */

@media print {
  .md-typeset {
    color: var(--color-black);
  }

  .md-typeset code,
  .md-typeset pre {
    background: var(--color-white) !important;
    border: var(--border-width-thin) solid #ddd;
  }

  .badge,
  .card,
  .alert {
    border: var(--border-width-thin) solid #ddd;
  }
}

/* ============================================================
   Responsive Breakpoints
   Mobile-first approach using design token breakpoints
   ============================================================ */

/* Extra small devices (phones, < 475px) */
@media screen and (max-width: calc(var(--breakpoint-xs) - 1px)) {
  .md-typeset h1 {
    font-size: var(--text-heading-6);
  }

  .md-typeset h2 {
    font-size: var(--text-heading-6);
  }

  .md-typeset h3 {
    font-size: var(--text-heading-5);
  }

  .md-typeset h4 {
    font-size: var(--text-heading-5);
  }

  .md-typeset h5,
  .md-typeset h6 {
    font-size: var(--text-body-base);
  }

  .md-typeset p {
    font-size: var(--text-body-sm);
  }
}

/* Small devices (phones, 475px - 640px) */
@media screen and (min-width: var(--breakpoint-xs)) and (max-width: calc(var(--breakpoint-sm) - 1px)) {
  .md-typeset h1 {
    font-size: var(--text-heading-5);
  }

  .md-typeset h2 {
    font-size: var(--text-heading-5);
  }

  .md-typeset h3 {
    font-size: var(--text-heading-6);
  }

  .md-typeset h4 {
    font-size: var(--text-heading-6);
  }

  .md-typeset h5,
  .md-typeset h6 {
    font-size: var(--text-body-sm);
  }
}

/* Medium devices (tablets, 640px - 768px) */
@media screen and (min-width: var(--breakpoint-sm)) and (max-width: calc(var(--breakpoint-md) - 1px)) {
  .md-typeset h1 {
    font-size: var(--text-heading-4);
  }

  .md-typeset h2 {
    font-size: var(--text-heading-4);
  }

  .md-typeset h3 {
    font-size: var(--text-heading-5);
  }

  .md-typeset h4 {
    font-size: var(--text-heading-6);
  }
}

/* Large devices (desktops, 768px - 1024px) */
@media screen and (min-width: var(--breakpoint-md)) and (max-width: calc(var(--breakpoint-lg) - 1px)) {
  .md-typeset h1 {
    font-size: var(--text-heading-3);
  }

  .md-typeset h2 {
    font-size: var(--text-heading-4);
  }

  .md-typeset h3 {
    font-size: var(--text-heading-4);
  }

  .md-typeset h4 {
    font-size: var(--text-heading-5);
  }
}

/* Extra large devices (large desktops, 1024px+) */
@media screen and (min-width: var(--breakpoint-lg)) {
  /* Typography remains at default fluid sizes */
}

/* ============================================================
   Container Queries for Component-Level Responsive Design
   ============================================================ */

/* Small containers */
@container (max-width: var(--container-sm)) {
  .card {
    padding: var(--card-padding-sm);
  }

  .alert {
    padding: var(--space-6);
    gap: var(--space-4);
  }

  .badge {
    font-size: var(--text-ui-xs);
    padding: var(--space-1) var(--space-2);
  }
}

/* Medium containers */
@container (min-width: var(--container-sm)) and (max-width: var(--container-md)) {
  .card {
    padding: var(--card-padding-md);
  }
}

/* Large containers */
@container (min-width: var(--container-md)) {
  /* Use default sizes */
}

/* ============================================================
   Touch Device Optimizations
   ============================================================ */

@media (hover: none) and (pointer: coarse) {
  /* Increase touch targets on mobile */
  .md-nav__link,
  .md-tabs__link,
  button,
  .btn {
    min-height: var(--space-12);
    padding: var(--space-3) var(--space-4);
  }

  /* Larger focus rings for touch */
  *:focus-visible {
    outline-offset: var(--space-2);
  }
}

/* ============================================================
   High Contrast Mode Support
   ============================================================ */

@media (prefers-contrast: high) {
  .md-typeset a {
    text-decoration: underline;
  }

  .card,
  .alert,
  .badge {
    border-width: var(--border-width-medium);
  }
}

/* ============================================================
   Reduced Motion Support
   ============================================================ */

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* ============================================================
   Dark Mode Specific Adjustments
   ============================================================ */

@media (prefers-color-scheme: dark) {
  /* Already handled by Tokyo Night theme */
}

/* ============================================================
   Orientation Changes
   ============================================================ */

@media screen and (orientation: landscape) and (max-height: 500px) {
  /* Reduce vertical spacing on landscape mobile */
  .md-typeset h1,
  .md-typeset h2,
  .md-typeset h3 {
    margin-top: var(--space-8);
    margin-bottom: var(--space-4);
  }

  .md-typeset p {
    margin-bottom: var(--space-4);
  }
}
