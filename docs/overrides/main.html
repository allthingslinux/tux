{% extends "base.html" %} {% block content %} {{ super() }} {# Display backlinks
if they exist #} {% if backlinks %}
<div class="backlinks">
  {% if backlinks|length > 5 %}
  <details class="backlinks-accordion">
    <summary>
      <h3>Backlinks ({{ backlinks|length }})</h3>
    </summary>
    <ul>
      {% for backlink in backlinks %}
      <li>
        <a href="/{{ backlink.url }}">{{ backlink.title }}</a>
        {% if backlink.excerpt %}
        <blockquote>{{ backlink.excerpt }}</blockquote>
        {% endif %}
      </li>
      {% endfor %}
    </ul>
  </details>
  {% else %}
  <h3>Backlinks</h3>
  <ul>
    {% for backlink in backlinks %}
    <li>
      <a href="/{{ backlink.url }}">{{ backlink.title }}</a>
      {% if backlink.excerpt %}
      <blockquote>{{ backlink.excerpt }}</blockquote>
      {% endif %}
    </li>
    {% endfor %}
  </ul>
  {% endif %}
</div>

<style>
  .backlinks {
    margin-top: 2rem;
    margin-left: -1rem;
    margin-right: -1rem;
    padding: 1rem;
    border-top: 1px solid var(--md-default-fg-color--lightest);
  }

  .backlinks h3 {
    margin: 0;
    color: var(--md-default-fg-color--light);
    font-size: 1.1rem;
    display: inline;
  }

  .backlinks-accordion summary {
    cursor: pointer;
    padding: 0.5rem 0;
    list-style: none;
    display: flex;
    align-items: center;
  }

  .backlinks-accordion summary .md-details__icon,
  .backlinks-accordion summary::before,
  .backlinks-accordion summary::-webkit-details-marker {
    display: none !important;
  }

  .backlinks ul {
    margin: 0.5rem 0 0 0;
    padding-left: 1.5rem;
  }

  .backlinks li {
    margin-bottom: 0.5rem;
  }

  .backlinks blockquote {
    margin: 0.25rem 0 0 0;
    padding: 0.25rem 0.5rem;
    border-left: 3px solid var(--md-accent-fg-color);
    background-color: var(--md-code-bg-color);
    font-size: 0.9rem;
    color: var(--md-default-fg-color--light);
  }

  /* Hide navigation.md backlinks - matches hrefs containing /navigation/ */
  .backlinks li:has(a[href*="/navigation/"]) {
    display: none !important;
  }
</style>
{% endif %} {% endblock %}
